d:\- - - - - x.Egressy 2023\- 3. Félév\- - - Tiszta Város\TisztaVaros_BackEnd__Github\backend\routes>npm test

> backend@1.0.0 test
> jest --detectOpenHandles

  console.log
    Auth Routes Teszt üzemmódban vagyok!

      at Object.log (routes/authRoutes.js:14:29)

  console.log
    Executing (default): SELECT `id`, `username`, `password`, `email`, `zipCode`, `city`, `address`, `points`, `role`, `isActive`, `institutionId`, `avatarStyle`, `avatarSeed`, `avatarChangesToday`, `lastAvatarChangeDate`, `activationToken`, `activationExpires`, `pushToken`, `createdAt`, `updatedAt` FROM `users` AS `user` WHERE `user`.`email` = 'admin@admin.hu';

      at Sequelize.log (node_modules/sequelize/src/sequelize.js:1281:15)

  console.log
    User.Active = active

      at log (routes/authRoutes.js:199:37)

  console.log
    Logged Admin:  {
      id: '4ff65594-cc73-4445-bcdf-885ffaad5e69',
      role: 'admin',
      institutionId: '11111111-aaaa-aaaa-aaaa-aaaaaaaa0002',
      iat: 1758627909,
      exp: 1774179909
    }

      at Object.log (routes/newsRoutes_Ori.test.js:25:17)

  console.log
    Executing (default): SELECT `id`, `username`, `password`, `email`, `zipCode`, `city`, `address`, `points`, `role`, `isActive`, `institutionId`, `avatarStyle`, `avatarSeed`, `avatarChangesToday`, `lastAvatarChangeDate`, `activationToken`, `activationExpires`, `pushToken`, `createdAt`, `updatedAt` FROM `users` AS `user` WHERE `user`.`email` = 'zoardakarki@gmail.com';

      at Sequelize.log (node_modules/sequelize/src/sequelize.js:1281:15)

  console.log
    User.Active = active

      at log (routes/authRoutes.js:199:37)

  console.log
    Logged User:  {
      id: 'b419c367-b6d1-48c0-b095-7a405fa469ad',
      role: 'user',
      institutionId: '11111111-aaaa-aaaa-aaaa-aaaaaaaa0002',
      iat: 1758627909,
      exp: 1774179909
    }

      at Object.log (routes/newsRoutes_Ori.test.js:35:17)

  console.log
    Executing (default): SELECT `institutionNews`.`id`, `institutionNews`.`institutionId`, `institutionNews`.`slug`, `institutionNews`.`title`, `institutionNews`.`content`, `institutionNews`.`imageUrl`, `institutionNews`.`createdAt`, `institutionNews`.`createdBy`, `institutionNews`.`updatedAt`, `institutionNews`.`status`, `institution`.`id` AS `institution.id`, `institution`.`name` AS `institution.name`, `institution`.`logoUrl` AS `institution.logoUrl`, `author`.`id` AS `author.id`, `author`.`username` AS `author.username` FROM `institutionNews` AS `institutionNews` LEFT OUTER JOIN `institutions` AS `institution` ON `institutionNews`.`institutionId` = `institution`.`id` LEFT OUTER JOIN `users` AS `author` ON `institutionNews`.`createdBy` = `author`.`id` ORDER BY `institutionNews`.`createdAt` DESC;

      at Sequelize.log (node_modules/sequelize/src/sequelize.js:1281:15)

  console.log
    Executing (default): SELECT `institutionNews`.`id`, `institutionNews`.`institutionId`, `institutionNews`.`slug`, `institutionNews`.`title`, `institutionNews`.`content`, `institutionNews`.`imageUrl`, `institutionNews`.`createdAt`, `institutionNews`.`createdBy`, `institutionNews`.`updatedAt`, `institutionNews`.`status`, `institution`.`id` AS `institution.id`, `institution`.`name` AS `institution.name`, `institution`.`logoUrl` AS `institution.logoUrl`, `author`.`id` AS `author.id`, `author`.`username` AS `author.username` FROM `institutionNews` AS `institutionNews` LEFT OUTER JOIN `institutions` AS `institution` ON `institutionNews`.`institutionId` = `institution`.`id` LEFT OUTER JOIN `users` AS `author` ON `institutionNews`.`createdBy` = `author`.`id` ORDER BY `institutionNews`.`createdAt` DESC;

      at Sequelize.log (node_modules/sequelize/src/sequelize.js:1281:15)

 PASS  routes/newsRoutes_Ori.test.js
  test for "Login" route
    √ Login as Admin    s11 [200] (208 ms)
    √ Login as User     s11 [200] (83 ms)
  GetList of "News" route :
    √ Get All News List by Admin [200] (24 ms)
    √ Get All News List by User [200] (18 ms)

Test Suites: 1 passed, 1 total
Tests:       4 passed, 4 total
Snapshots:   0 total
Time:        1.777 s
Ran all test suites.
